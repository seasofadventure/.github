<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="https://i.ibb.co/Qf33Jhq/ezgif-4-770d4f5fd8.png" type="image/png">
    <title>Seas Of Adventure</title>
    <style>
        .movie-grid, .game-grid {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
        }

        .movie, .game {
            flex: 0 0 32%;
            margin: 2%;
            text-align: center;
        }

        .movie img, .game img {
            width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <header>
        <h1>Seas of Adventure</h1>
    </header>

    <nav>
        <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#movies">Movies</a></li>
            <li><a href="#games">Games</a></li>
        </ul>
    </nav>

    <section id="movies">
        <h2>Movies</h2>
        <div class="movie-grid" id="movie-grid">
        </div>
    </section>

    <section id="games">
        <h2>Games</h2>
        <div class="game-grid" id="game-grid">
        </div>
    </section>

    <script>
        // Define movie and game titles
        const movies = [
            "The Nightmare Before Christmas",
            "Five Nights at Freddy's Movie",
            "Animal Farm",
            "Super Mario Bros Movie",
            "Pokemon Lucario and the Mystery Of Mew",
            "Pokemon The Movie 2000",
            "Pokemon Spell of Unown",
            "Pokemon 4ever Celebi",
            "Pokemon Heroes Latias and Latios",
            "Pokemon Jirachi Wish Maker",
            "Pokemon Destiny Deoxys",
            "Pokemon Ranger and the temple of the sea",
            "Pokemon The rise of Darkrai"
        ];

        const games = [
            "Hollow Knight",
            "Baba Is You"
        ];

        // Function to fetch game covers from GameTDB
        async function fetchGameCovers(gameTitle) {
            const response = await fetch(`https://www.gametdb.com/Wii/${gameTitle}.txt`);
            const text = await response.text();
            const match = text.match(/3D_Box = (.+)/);
            if (match) {
                const coverUrl = match[1];
                return coverUrl;
            }
            return null;
        }

        // Fetch movie covers using OMDB API
        movies.forEach(async (movieTitle) => {
            const response = await fetch(`https://www.omdbapi.com/?t=${movieTitle}&apikey=ddec9f7a`);
            const data = await response.json();
            if (data.Poster) {
                const movieGrid = document.getElementById("movie-grid");
                const movieDiv = document.createElement("div");
                movieDiv.classList.add("movie");
                movieDiv.innerHTML = `
                    <a href="movies/${movieTitle.replace(/ /g, '')}.html">
                        <img src="${data.Poster}" alt="${movieTitle}">
                        <h3>${movieTitle}</h3>
                    </a>
                `;
                movieGrid.appendChild(movieDiv);
            }
        });

        // Fetch game covers from GameTDB and add them to the game grid
        games.forEach(async (gameTitle) => {
            const coverUrl = await fetchGameCovers(gameTitle);
            if (coverUrl) {
                const gameGrid = document.getElementById("game-grid");
                const gameDiv = document.createElement("div");
                gameDiv.classList.add("game");
                gameDiv.innerHTML = `
                    <a href="games/${gameTitle.replace(/ /g, '')}.html">
                        <img src="${coverUrl}" alt="${gameTitle}">
                        <h3>${gameTitle}</h3>
                    </a>
                `;
                gameGrid.appendChild(gameDiv);
            }
        });
    </script>
</body>
</html>
